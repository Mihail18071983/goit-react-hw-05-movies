{"version":3,"file":"static/js/794.f627fcc6.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","components/Searchbar/Searchbar.styled.js","components/Searchbar/initialState.js","components/Searchbar/Searchbar.jsx","pages/Movies/Movies.jsx","shared/Pagination.syled.js","shared/services/fetch-api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const StyledList = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 10px 5px;\n`;\n\nexport const MovieLink = styled(NavLink)`\n  color: #00008b;\n`;\n","import PropTypes from 'prop-types';\nimport { StyledList } from './MovieList.styled';\nimport { useLocation } from 'react-router-dom';\n\nimport { MovieLink } from './MovieList.styled';\n\n\nconst MovieList = ({ results }) => {\n  const location = useLocation();\n  const elements = results.map(({ id, title }) => (\n    <li key={id}>\n      <MovieLink  to={`/movies/${id}`}state={{ from: location }}>\n        <p>{title}</p>\n      </MovieLink>\n    </li>\n  ));\n  return <StyledList>{elements}</StyledList>;\n};\n\nexport default MovieList;\n\nMovieList.defaultProps = {\n  results: [],\n};\n\nMovieList.propTypes = {\n  results: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n  })),\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\n// export const Label = styled.span`\n//   position: absolute;\n//   width: 1px;\n//   height: 1px;\n//   padding: 0;\n//   overflow: hidden;\n//   clip: rect(0, 0, 0, 0);\n//   white-space: nowrap;\n//   clip-path: inset(50%);\n//   border: 0;\n// `;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","const initialState = { search: '' };\n\nexport default initialState","import { useState, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport { toast } from 'react-toastify';\n\nimport * as SearchBar from './Searchbar.styled';\n\nimport initialState from './initialState';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => {\n      return { ...prevState, [name]: value.trim() };\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (state.search.trim().toLowerCase() === '') {\n      return toast.warn('Enter correct search!');\n    }\n\n    onSubmit(state.search);\n    setState({ ...initialState });\n  };\n\n  const { query } = state;\n\n  return (\n    <SearchBar.Container>\n      <SearchBar.Form onSubmit={handleSubmit}>\n        <SearchBar.SearchButton type=\"submit\" aria-label=\"search-button\">\n            <ImSearch />\n        </SearchBar.SearchButton>\n\n        <SearchBar.Input\n          name=\"search\"\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          required\n          onChange={handleChange}\n        />\n      </SearchBar.Form>\n    </SearchBar.Container>\n  );\n};\n\nexport default memo(Searchbar);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { PaginationStyled } from 'shared/Pagination.syled';\nimport { Notify } from 'notiflix';\n\nimport { fetchMovies } from 'shared/services/fetch-api';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport MovieList from 'components/MovieList/MovieList';\n\nimport Loader from 'shared/Loader/Loader';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const params = useMemo(\n    () => Object.fromEntries([...searchParams]),\n    [searchParams]\n  );\n\n  const { query, page } = params;\n  const currentPage = Number(page) ? Number(page) : 1;\n  const [totalPages, setTotalPages] = useState(0);\n  const [movie, setMovie] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    try {\n      setLoading(true);\n      const getMovie = async page => {\n        const { results, total_pages } = await fetchMovies(page, query);\n        if (!results.length) {\n          Notify.failure('No found');\n          setTotalPages(0)\n        } else {\n          setTotalPages(total_pages);\n          setMovie(results);\n        }\n      };\n      getMovie(currentPage, query);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [query, currentPage, page]);\n\n  const onSearchMovie = useCallback(\n    query => {\n      if (query !== searchQuery) {\n        setSearchParams({ query, page: 1 });\n        setMovie([]);\n        setSearchQuery(query);\n      } else {\n        Notify.warning('you have already entered this query!');\n      }\n    },\n    [setSearchParams, searchQuery]\n  );\n\n  const handlePageClick = e => {\n    setSearchParams({ query, page: e.selected + 1 });\n  };\n\n  return (\n    <main>\n      <Searchbar onSubmit={onSearchMovie} />\n      <MovieList results={movie} />\n      {error && <p>Error{error.message}</p>}\n      {totalPages > 1 && (\n        <PaginationStyled\n          breakLabel=\"...\"\n          nextLabel=\">\"\n          onPageChange={handlePageClick}\n          pageRangeDisplayed={3}\n          pageCount={totalPages}\n          previousLabel=\"<\"\n          renderOnZeroPageCount={null}\n          disabledLinkClassName=\"disabled\"\n          activeClassName=\"activePage\"\n          forcePage={currentPage - 1}\n        />\n      )}\n      {loading && <Loader />}\n    </main>\n  );\n};\n\nexport default Movies;\n","import styled from 'styled-components';\nimport ReactPaginate from 'react-paginate'\n\nexport const PaginationStyled = styled(ReactPaginate)`\n  display: flex;\n  list-style: none;\n  justify-content: flex-start;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  font-size: 16px;\n  font-weight: 700;\n\n  @media (max-width: 500px) {\n    flex-wrap: wrap;\n  }\n\n  & li {\n    color: ${p => 'black'};\n\n    transition: color 250ms linear;\n\n    :hover:not(.disabled) {\n      color: ${p => '#333652'};\n    }\n  }\n\n  & .activePage {\n    color: ${p => '#FAD02C'};\n  }\n\n  & a {\n    padding: 0 8px;\n    cursor: pointer;\n  }\n\n  & a.disabled {\n    cursor: default;\n  }\n`;","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n\n  params: {\n    api_key: 'ac91775ba29254b7e75060011bf34a90',\n  },\n});\n\nexport const fetchTrending = async (page) => {\n  const mediaType = 'movie';\n  const timeWindow = 'week';\n  const { data } = await instance.get(\n    `/trending/${mediaType}/${timeWindow}?page=${page}`\n  );\n  return data;\n};\n\nexport const fetchMovies = async (page , query) => {\n  const { data } = await instance.get(`/search/movie?page=${page}&query=${query}`);\n  return data;\n};\n\nexport const fetchGenres = async () => {\n  const { data } = await instance.get(`/genre/movie/list`);\n  console.log('genres', data.genres);\n  return data.genres;\n};\n\nexport const fetchMovieById = async (movieID) => {\n  const { data } = await instance.get(`/movie/${movieID}`);\n  return data;\n};\n\nexport const fetchCredits = async (movieId) => {\n  const { data } = await instance.get(`/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const fetchReviews = async (movieID) => {\n  const { data } = await instance.get(`/movie/${movieID}/reviews`);\n  return data;\n};\n"],"names":["StyledList","styled","MovieLink","NavLink","MovieList","results","location","useLocation","elements","map","id","title","to","state","from","defaultProps","Container","Form","SearchButton","Input","search","Searchbar","onSubmit","useState","initialState","setState","query","e","preventDefault","trim","toLowerCase","toast","type","name","value","autoComplete","autoFocus","placeholder","required","onChange","target","prevState","memo","useSearchParams","searchParams","setSearchParams","params","useMemo","Object","fromEntries","page","currentPage","Number","totalPages","setTotalPages","movie","setMovie","searchQuery","setSearchQuery","loading","setLoading","error","setError","useEffect","getMovie","fetchMovies","total_pages","length","Notify","err","message","onSearchMovie","useCallback","breakLabel","nextLabel","onPageChange","selected","pageRangeDisplayed","pageCount","previousLabel","renderOnZeroPageCount","disabledLinkClassName","activeClassName","forcePage","Loader","PaginationStyled","ReactPaginate","p","instance","axios","baseURL","api_key","fetchTrending","get","data","fetchMovieById","movieID","fetchCredits","movieId","fetchReviews"],"sourceRoot":""}